:includedir: ../..
:relrootdir: ../..
:graphqldir: {includedir}/lib/backend-data/src/main/resources/graphql
= Owner GraphQL API

GraphQL API for querying pet owners in the pet clinic application.
It provides query operations to retrieve all owners, find owners by identifier or name, and navigate the owner-pet relationship.

== Model

=== Owner

Each owner represents a pet clinic client who can own multiple pets with name, address, and contact information.
The `name` attribute is required and unique.
The `address` attribute is required.
The `contact` attribute is optional.

The `allPet` relation uses batch loading via `@BatchMapping` to efficiently load pets for multiple owners.

The `Owner` type defines properties and collections.

.Schema
[source,graphql,options="nowrap"]
----
include::{graphqldir}/owner.gqls[]
----

The `Owner` type corresponds to the entity class.

.Entity
[source,java,options="nowrap"]
----
include::{includedir}/lib/backend-api/src/main/java/esy/api/client/Owner.java[indent=0,tags=properties]
----

== Queries

=== Collection queries

==== `allOwner`

This query returns all pet owners in the system.

.Query Definition
[source,graphql,options="nowrap"]
----
allOwner: [Owner]
----

*Returns:*

A list of all `Owner` objects.
Returns an empty list if no owners exist.

=== Object queries

==== `ownerById`

This query returns a single owner by unique identifier.

.Query Definition
[source,graphql,options="nowrap"]
----
ownerById(id: ID!): Owner
----

*Arguments:*

`id` (ID, required)::
The unique identifier of the owner (UUID format).

*Returns:*

An `Owner` object if found, or null if no owner exists with the given identifier.

==== `ownerByName`

This query returns a single owner by unique name.

.Query Definition
[source,graphql,options="nowrap"]
----
ownerByName(name: String!): Owner
----

*Arguments:*

`name` (String, required)::
The unique name of the owner (exact match, case-sensitive).

*Returns:*

An `Owner` object if found, or null if no owner exists with the given name.
